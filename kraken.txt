local UIS = game:GetService("UserInputService")
local StarterGui = game:GetService("StarterGui")

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "KrakenMenu"
ScreenGui.Parent = game.CoreGui

local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 400, 0, 400)
MainFrame.Position = UDim2.new(0.5, -200, 0.5, -200)
MainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
MainFrame.Parent = ScreenGui

local UICorner = Instance.new("UICorner")
UICorner.Parent = MainFrame

local Header = Instance.new("TextLabel")
Header.Size = UDim2.new(1, 0, 0, 30)
Header.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
Header.Text = "KRAKEN"
Header.TextColor3 = Color3.fromRGB(255, 255, 255)
Header.Font = Enum.Font.GothamBold
Header.TextSize = 20
Header.Parent = MainFrame

local dragging = false
local dragInput, dragStart, startPos

local function update(input)
    local delta = input.Position - dragStart
    MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end

Header.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = MainFrame.Position

        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

Header.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        dragInput = input
    end
end)

UIS.InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        update(input)
    end
end)

local Tabs = {"Visuals", "RageBot", "Misc", "Settings"}
local Buttons = {}

for i, tab in ipairs(Tabs) do
    local Button = Instance.new("TextButton")
    Button.Size = UDim2.new(0, 100, 0, 30)
    Button.Position = UDim2.new(0, (i-1) * 100, 0, 30)
    Button.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    Button.Text = tab
    Button.TextColor3 = Color3.fromRGB(255, 255, 255)
    Button.Font = Enum.Font.Gotham
    Button.TextSize = 14
    Button.Parent = MainFrame
    Buttons[tab] = Button
end

local CloseButton = Instance.new("TextButton")
CloseButton.Size = UDim2.new(0, 30, 0, 30)
CloseButton.Position = UDim2.new(1, -30, 0, 0)
CloseButton.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
CloseButton.Text = "X"
CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseButton.Font = Enum.Font.GothamBold
CloseButton.TextSize = 14
CloseButton.Parent = MainFrame

local function Notify(message)
    StarterGui:SetCore("SendNotification", {
        Title = "Kraken",
        Text = message,
        Duration = 5
    })
end

CloseButton.MouseButton1Click:Connect(function()
    MainFrame.Visible = false
    Notify("kraken is minimized (RSHIFT)")
end)

UIS.InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.RightShift then
        MainFrame.Visible = not MainFrame.Visible
    end
end)

local ContentFrames = {}
for _, tab in ipairs(Tabs) do
    local Frame = Instance.new("Frame")
    Frame.Size = UDim2.new(1, 0, 1, -60)
    Frame.Position = UDim2.new(0, 0, 0, 60)
    Frame.BackgroundTransparency = 1
    Frame.Visible = false
    Frame.Parent = MainFrame
    ContentFrames[tab] = Frame
end

for tab, button in pairs(Buttons) do
    button.MouseButton1Click:Connect(function()
        for _, frame in pairs(ContentFrames) do
            frame.Visible = false
        end
        ContentFrames[tab].Visible = true
    end)
end

ContentFrames["Visuals"].Visible = true

Notify("kraken has been loaded, RSHIFT to show/hide.")

local function AddComingSoonLabel(frame)
    local ComingSoonLabel = Instance.new("TextLabel")
    ComingSoonLabel.Size = UDim2.new(1, 0, 1, 0)
    ComingSoonLabel.Position = UDim2.new(0, 0, 0, 0)
    ComingSoonLabel.BackgroundTransparency = 1
    ComingSoonLabel.Text = "COMING SOON"
    ComingSoonLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    ComingSoonLabel.Font = Enum.Font.GothamBold
    ComingSoonLabel.TextSize = 30
    ComingSoonLabel.TextWrapped = true
    ComingSoonLabel.Parent = frame
end

for tab, frame in pairs(ContentFrames) do
    if tab ~= "RageBot" and tab ~= "Visuals" then
        AddComingSoonLabel(frame)
    end
end

-- VISUALS
local VisualsTab = ContentFrames["Visuals"]

local ButtonSize = UDim2.new(0, 200, 0, 50)

local NightVisionButton = Instance.new("TextButton")
NightVisionButton.Size = ButtonSize
NightVisionButton.Position = UDim2.new(0.5, -100, 0.1, -25)
NightVisionButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
NightVisionButton.Text = "FullBright"
NightVisionButton.TextColor3 = Color3.fromRGB(255, 255, 255)
NightVisionButton.Font = Enum.Font.Gotham
NightVisionButton.TextSize = 14
NightVisionButton.Parent = VisualsTab

NightVisionButton.MouseButton1Click:Connect(function()
    local Light = game:GetService("Lighting")
    local function dofullbright()
        Light.Ambient = Color3.new(1, 1, 1)
        Light.ColorShift_Bottom = Color3.new(1, 1, 1)
        Light.ColorShift_Top = Color3.new(1, 1, 1)
    end
    dofullbright()
    Light.LightingChanged:Connect(dofullbright)
    NightVisionButton.Text = "FullBright (ENABLED)"
    NightVisionButton.TextColor3 = Color3.new(1, 0, 0)
end)

local CrosshairButton = Instance.new("TextButton")
CrosshairButton.Size = ButtonSize
CrosshairButton.Position = UDim2.new(0.5, -100, 0.3, -25)
CrosshairButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
CrosshairButton.Text = "Crosshair"
CrosshairButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CrosshairButton.Font = Enum.Font.Gotham
CrosshairButton.TextSize = 14
CrosshairButton.Parent = VisualsTab

CrosshairButton.MouseButton1Click:Connect(function()
    local Crosshair = Instance.new("ScreenGui", game.CoreGui)
    local CrosshairPart1 = Instance.new("Frame")
    CrosshairPart1.Size = UDim2.new(0, 2, 0, 20)
    CrosshairPart1.Position = UDim2.new(0.5, -1, 0.5, -10)
    CrosshairPart1.BackgroundColor3 = Color3.new(1, 0, 0)
    CrosshairPart1.Parent = Crosshair

    local CrosshairPart2 = Instance.new("Frame")
    CrosshairPart2.Size = UDim2.new(0, 2, 0, 20)
    CrosshairPart2.Position = UDim2.new(0.5, -1, 0.5, -10)
    CrosshairPart2.Rotation = 90
    CrosshairPart2.BackgroundColor3 = Color3.new(1, 0, 0)
    CrosshairPart2.Parent = Crosshair

    local CrosshairPart3 = Instance.new("Frame")
    CrosshairPart3.Size = UDim2.new(0, 2, 0, 20)
    CrosshairPart3.Position = UDim2.new(0.5, -1, 0.5, -10)
    CrosshairPart3.Rotation = 45
    CrosshairPart3.BackgroundColor3 = Color3.new(1, 0, 0)
    CrosshairPart3.Parent = Crosshair

    local CrosshairPart4 = Instance.new("Frame")
    CrosshairPart4.Size = UDim2.new(0, 2, 0, 20)
    CrosshairPart4.Position = UDim2.new(0.5, -1, 0.5, -10)
    CrosshairPart4.Rotation = -45
    CrosshairPart4.BackgroundColor3 = Color3.new(1, 0, 0)
    CrosshairPart4.Parent = Crosshair

    CrosshairButton.Text = "Crosshair (ENABLED)"
    CrosshairButton.TextColor3 = Color3.new(1, 0, 0)
end)

local HitlogButton = Instance.new("TextButton")
HitlogButton.Size = ButtonSize
HitlogButton.Position = UDim2.new(0.5, -100, 0.5, -25)
HitlogButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
HitlogButton.Text = "Hitlog"
HitlogButton.TextColor3 = Color3.fromRGB(255, 255, 255)
HitlogButton.Font = Enum.Font.Gotham
HitlogButton.TextSize = 14
HitlogButton.Parent = VisualsTab

HitlogButton.MouseButton1Click:Connect(function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/githubscripting/TridentSurvival.v0.1/main/hitlog.lua"))()
    HitlogButton.Text = "Hitlogs (ENABLED)"
    HitlogButton.TextColor3 = Color3.new(1, 0, 0)
end)

-- RAGEBOT
local RageBotTab = ContentFrames["RageBot"]

local RageButton = Instance.new("TextButton")
RageButton.Size = ButtonSize
RageButton.Position = UDim2.new(0.5, -100, 0.1, -25)
RageButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
RageButton.Text = "hitbox+esp (click once)"
RageButton.TextColor3 = Color3.fromRGB(255, 255, 255)
RageButton.Font = Enum.Font.Gotham
RageButton.TextSize = 14
RageButton.Parent = RageBotTab

RageButton.MouseButton1Click:Connect(function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/githubscripting/TridentSurvival.v0.1/main/HB-HEAD-7.lua", true))()
end)
